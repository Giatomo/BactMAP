---
title: "R Notebook"
output: html_notebook
---
```{r setup}
library(bactMAP)
```

### Goal

Change the processing of detected objects (filaments, chromosome shapes, anything other than spots). Instead of taking only the outline or the middle of the object, use the full size to project the shapes. Ideally two options: transform/average "real data" and use only the outline/shapes to project the shapes.

### To do:
1. Use outline/shapes to project shapes
    1. Take the outlines from object_relative
    2. "Color in" the inside of the objects.
    3. Plot complete picture on top of each other as raster plot.

```{r ONE.one, warning=FALSE}
#1.i Take the outlines from object_relative
#take object_relative from MK396 dataset analyzed with Oufti taken with the DV microscope at Molgen, Groningen.
oufti_example <- system.file("extdata", "oufti_MK396_ftsz.csv", package = "bactMAP")
oufti_data <- extr.Oufti(oufti_example, "100x_DVMolgen")
#take only the object_relative dataframe
object_relative <- oufti_data$object_relative
#check the content of the object
head(object_relative)
```


#### "Color in" the objects

Things to think about here: 

* Do I take each pixel inside the object and give it a point (coordinate) of it's own?
* Can I take the inside of the object without doing this somehow?
```{r ONE.two, warning=FALSE}
#To check what the data looks like again: 1 cell with 2 objects inside:

ggplot(object_relative[object_relative$cell==40&object_relative$frame==1,], aes(x=ob_out_x, y=ob_out_y)) + geom_point() + coord_fixed() + geom_point(data=oufti_data$mesh[oufti_data$mesh$cell==40&oufti_data$mesh$frame==1,], aes(x=X_rot*0.0499538, y=Y_rot*0.0499538),color="red") + theme_classic()


```

